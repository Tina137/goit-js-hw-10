{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst startButton = document.querySelector('.start-button');\nconst input = document.querySelector('#datetime-picker');\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  value.textContent = value.textContent.padStart(2, '0');\n}\n\nlet userSelectedDate;\nconst defaultDate = new Date();\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: defaultDate,\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    if (userSelectedDate <= defaultDate) {\n      //   window.alert('Please choose a date in the future');\n      iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n        position: 'topRight',\n      });\n      startButton.setAttribute('disabled', '');\n    } else {\n      startButton.removeAttribute('disabled');\n      startButton.addEventListener('click', e => {\n        let change = setInterval(() => {\n          let objWTime = convertMs(\n            userSelectedDate.getTime() - new Date().getTime()\n          );\n          const values = document.querySelectorAll('.value');\n          values.forEach(e => {\n            for (const element of Object.keys(objWTime)) {\n              if (Object.keys(e.dataset)[0] === element) {\n                startButton.setAttribute('disabled', '');\n                input.setAttribute('disabled', '');\n                e.textContent = objWTime[element];\n                addLeadingZero(e);\n                if (e.textContent < 0) {\n                  clearInterval(change);\n                  startButton.removeAttribute('disabled');\n                  input.removeAttribute('disabled');\n                  e.textContent = '00';\n                }\n              }\n            }\n          });\n        }, 1000);\n      });\n    }\n    console.log(selectedDates[0], defaultDate);\n  },\n};\n\nflatpickr('#datetime-picker', options);\n"],"names":["startButton","input","convertMs","ms","days","hours","minutes","seconds","addLeadingZero","value","userSelectedDate","defaultDate","options","selectedDates","iziToast","e","change","objWTime","element","flatpickr"],"mappings":"0IAKA,MAAMA,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAQ,SAAS,cAAc,kBAAkB,EAEvD,SAASC,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASC,EAAeC,EAAO,CAC7BA,EAAM,YAAcA,EAAM,YAAY,SAAS,EAAG,GAAG,CACvD,CAEA,IAAIC,EACJ,MAAMC,EAAc,IAAI,KAElBC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAaD,EACb,gBAAiB,EACjB,QAAQE,EAAe,CACrBH,EAAmBG,EAAc,CAAC,EAC9BH,GAAoBC,GAEtBG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACT,SAAU,UAClB,CAAO,EACDd,EAAY,aAAa,WAAY,EAAE,IAEvCA,EAAY,gBAAgB,UAAU,EACtCA,EAAY,iBAAiB,QAASe,GAAK,CACzC,IAAIC,EAAS,YAAY,IAAM,CAC7B,IAAIC,EAAWf,EACbQ,EAAiB,QAAS,EAAG,IAAI,KAAI,EAAG,QAAS,CAC7D,EACyB,SAAS,iBAAiB,QAAQ,EAC1C,QAAQ,GAAK,CAClB,UAAWQ,KAAW,OAAO,KAAKD,CAAQ,EACpC,OAAO,KAAK,EAAE,OAAO,EAAE,CAAC,IAAMC,IAChClB,EAAY,aAAa,WAAY,EAAE,EACvCC,EAAM,aAAa,WAAY,EAAE,EACjC,EAAE,YAAcgB,EAASC,CAAO,EAChCV,EAAe,CAAC,EACZ,EAAE,YAAc,IAClB,cAAcQ,CAAM,EACpBhB,EAAY,gBAAgB,UAAU,EACtCC,EAAM,gBAAgB,UAAU,EAChC,EAAE,YAAc,MAIlC,CAAW,CACF,EAAE,GAAI,CACf,CAAO,GAEH,QAAQ,IAAIY,EAAc,CAAC,EAAGF,CAAW,CAC1C,CACH,EAEAQ,EAAU,mBAAoBP,CAAO"}